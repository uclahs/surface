/**
 * @file
 * Styles for menu placed in sidebar region.
 */

.menu-sidebar {
  list-style-type: none;
  padding-inline-start: 0;

  .menu__item--level-1 {
    border-top-width: 1px;
    padding-block: var(--size-4);
  }

  .menu__item--has-children {
    align-items: center;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
  }

  .menu__link {
    color: var(--surface-blue);
    display: flex;
    flex-basis: calc(100% - 32px);
    font-size: var(--font-size-2);
    font-weight: var(--font-weight-400);
    text-decoration: none;

    &:hover,
    &.is-active {
      color: var(--midnight-joshua-tree);
    }

    &.menu__link--active-trail {
      font-weight: var(--font-weight-700);
    }
  }

  /* For Patternlab purposes, set a max width to represent a typical width of this
  menu when used in Drupal. */
  .sb-demo & {
    max-width: var(--size-96);
  }
}

/* Sidebar menu level 2 */
.menu-sidebar--level-2 {
  flex-basis: 100%;
  max-height: 0;
  opacity: 0%;
  transition: visibility 0.2s, transform 0.2s, opacity 0.2s;
  visibility: hidden;

  &.is-active-menu-parent {
    max-height: none;
    opacity: 100%;
    visibility: visible;
  }

  .menu__item--has-children {
    align-items: center;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
  }

  .menu__link {
    color: var(--midnight-joshua-tree);
    font-size: var(--font-size-1);
    font-weight: var(--font-weight-400);
    margin-block-start: var(--size-2);
    padding-inline-start: var(--size-3);

    &:hover,
    &.is-active {
      color: var(--midnight-joshua-tree);
    }
  }
}

/* Sidebar menu level 3 */
.menu-sidebar--level-3 {
  flex-basis: 100%;
  margin-inline-start: var(--size-3);
  max-height: 0;
  opacity: 0%;
  transition: visibility 0.2s, transform 0.2s, opacity 0.2s;
  visibility: hidden;

  &.is-active-menu-parent {
    max-height: none;
    opacity: 100%;
    visibility: visible;
  }

  .menu__link {
    color: var(--malibu-dolphin);
    font-size: var(--font-size-1);
    padding-inline-start: var(--size-3);

    &:hover {
      color: var(--malibu-dolphin);
    }
  }
}

/* Sidebar menu level 4 */
.menu-sidebar--level-4 {
  flex-basis: 100%;
  margin-inline-start: var(--size-3);
  max-height: 0;
  opacity: 0%;
  transition: visibility 0.2s, transform 0.2s, opacity 0.2s;
  visibility: hidden;

  &.is-active-menu-parent {
    max-height: none;
    opacity: 100%;
    visibility: visible;
  }

  .menu__link {
    color: var(--malibu-dolphin);
    font-size: var(--font-size-1);
    padding-inline-start: var(--size-3);

    &:hover {
      color: var(--malibu-dolphin);
    }
  }
}
