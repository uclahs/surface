{#
/**
 * @file
 * Theme override for Callout paragraph type.
 *
 * Available variables:
 * - attributes: HTML attributes for the containing element.
 * - title: The title for the component.
 * - image: The component's main image.
 * - teaser: The teaser text if provided.
 * - cta: A CTA if one is provided.
 *
 */
#}

{# Set variable to trigger rendering of content array. #}
{% set rendered_content = content|render %}

{#
Set variable for the cta so it matches structure of button-track component.
This component is using Siteimprove to track user interactions or events.
#}
{% set article_cta = {
  'action': content.field_tracking_action|render|trim is not empty ? content.field_tracking_action|field_value,
  'category': content.field_tracking_category|render|trim is not empty ? content.field_tracking_category|field_value,
  'label': content.field_tracking_label|render|trim is not empty ? content.field_tracking_label|field_value,
  'modifier': 'button button--primary',
  'text': content.field_sf_link|render|trim is not empty ? content.field_sf_link.0['#title'],
  'url': content.field_sf_link|render|trim is not empty ? content.field_sf_link.0['#url_title'],
} %}

{# Set variable for title field so it matches structure of heading component. #}
{% set article_title = {
  'modifier': 'callout__title',
  'level': 3,
  'text': content.field_sf_title|render|trim is not empty ? content.field_sf_title,
  'url': '',
} %}

{% include '@components/callout/callout.twig' with {
  'modifier': modifier,
  'attributes': attributes,
  'image': content.field_sf_image,
  'title': article_title,
  'teaser': content.field_sf_teaser|render|trim is not empty ? content.field_sf_teaser|field_value,
  'cta': article_cta,
} only %}
